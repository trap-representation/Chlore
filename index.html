<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 7.3.7.2 (Linux)"/>
	<meta name="created" content="2023-01-23T23:54:33.935675256"/>
	<meta name="changed" content="2023-02-21T19:50:27.320321778"/>
	<style type="text/css">
		@page { size: 21cm 29.7cm; margin: 2cm }
		p { line-height: 115%; margin-bottom: 0.25cm; background: transparent }
		p.sdfootnote { font-size: 10pt; line-height: 100%; margin-left: 0.6cm; text-indent: -0.6cm; margin-bottom: 0cm; background: transparent }
		h1 { margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h1.western { font-family: "Liberation Sans", sans-serif; font-size: 18pt; font-weight: bold }
		h1.cjk { font-family: "Noto Sans CJK SC"; font-size: 18pt; font-weight: bold }
		h1.ctl { font-family: "Lohit Devanagari"; font-size: 18pt; font-weight: bold }
		h2 { margin-top: 0.35cm; margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h2.western { font-family: "Liberation Sans", sans-serif; font-size: 16pt; font-weight: bold }
		h2.cjk { font-family: "Noto Sans CJK SC"; font-size: 16pt; font-weight: bold }
		h2.ctl { font-family: "Lohit Devanagari"; font-size: 16pt; font-weight: bold }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
		a:visited { color: #800000; so-language: zxx; text-decoration: underline }
		a.sdfootnoteanc { font-size: 57% }
	</style>
</head>
<body lang="en-IN" link="#000080" vlink="#800000" dir="ltr"><p align="center" style="line-height: 100%; margin-bottom: 0cm">
<font size="5" style="font-size: 18pt"><b>The Extremely Small File
Format </b></font><font size="5" style="font-size: 18pt"><b>23</b></font><font size="5" style="font-size: 18pt"><b>
Specification (Draft)</b></font></p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm">Revision
3</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm">February
2023</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm">Copyright
(c) Somdipto Chakraborty</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm">This
work is licensed under the Creative Commons Attribution-NoDerivatives
4.0 International License</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="left" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="left" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="left" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="left" style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p align="center" style="line-height: 100%; margin-bottom: 0cm"><font size="5" style="font-size: 18pt">Abstract</font></p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm">This standard
specifies the structure of <i>extremely small executable</i><span style="font-style: normal">
and </span><i>extremely small loadable</i><span style="font-style: normal">
file</span><span style="font-style: normal">s</span><span style="font-style: normal">.
The purpose of this document is to </span><span style="font-style: normal">standardize
</span><span style="font-style: normal">the </span><i>extremely small</i><span style="font-style: normal">
file format </span><span style="font-style: normal">to </span><span style="font-style: normal">promote
</span><span style="font-style: normal">correctness </span><span style="font-style: normal">of
such files.</span></p>
<p style="font-style: normal; line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal">Any
additional details of the environment </span><span style="font-style: normal">are
not covered by this standard.</span></p>
<p style="line-height: 100%; margin-bottom: 0cm; page-break-before: always">
<br/>

</p>
<div id="Table of Contents1" dir="ltr">
	<div id="Table of Contents1_Head" dir="ltr"><p style="line-height: 100%; margin-top: 0.42cm; margin-bottom: 0.21cm; page-break-before: always; page-break-after: avoid">
		<font face="Liberation Sans, sans-serif"><font size="4" style="font-size: 16pt"><b>Table
		of Contents</b></font></font></p>
	</div>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc1018_225939230">Introduction	4</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc1020_225939230">1.
	Terms and definitions	5</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc1294_278047018">2.
	Environments	6</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><a href="#__RefHeading___Toc1024_225939230">3</a><a href="#__RefHeading___Toc1024_225939230">.
	Limits</a></span><a href="#__RefHeading___Toc1024_225939230">	6</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc1026_225939230">4.
	Parsing	6</a></p>
	<p lang="zxx" style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm">
	<span style="font-style: normal"><a href="#__RefHeading___Toc1028_225939230">4</a><a href="#__RefHeading___Toc1028_225939230">.</a><a href="#__RefHeading___Toc1028_225939230">1</a><a href="#__RefHeading___Toc1028_225939230">
	Pa</a><a href="#__RefHeading___Toc1028_225939230">rs</a><a href="#__RefHeading___Toc1028_225939230">ing
	a</a><a href="#__RefHeading___Toc1028_225939230">n</a><a href="#__RefHeading___Toc1028_225939230">
	extremely small executable file</a></span><a href="#__RefHeading___Toc1028_225939230">	6</a></p>
	<p lang="zxx" style="line-height: 100%; margin-left: 0.5cm; margin-bottom: 0cm">
	<span style="font-style: normal"><a href="#__RefHeading___Toc1030_225939230">4</a><a href="#__RefHeading___Toc1030_225939230">.</a><a href="#__RefHeading___Toc1030_225939230">2</a><a href="#__RefHeading___Toc1030_225939230">
	Parsing a</a><a href="#__RefHeading___Toc1030_225939230">n</a><a href="#__RefHeading___Toc1030_225939230">
	extremely small loadable file</a></span><a href="#__RefHeading___Toc1030_225939230">	7</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc1034_225939230">Annex
	A. Extremely small file structure summary (informative)	8</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc973_1655514702">Annex
	B. Recommended practice (informative)	8</a></p>
	<p lang="zxx" style="line-height: 100%; margin-bottom: 0cm"><a href="#__RefHeading___Toc1036_225939230">Contributions	9</a></p>
</div>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc1018_225939230"></a>
Introduction</h1>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
1 This is a draft version of the Extremely Small File Format
specification, and there may be significant changes made to this
standard before the final release. This draft version is only meant
for those who are interested in contributing to the development of
the Extremely Small File Format specification.</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
2 Footnotes are provided to clarify certain rules to the reader.</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">3</span><span style="font-weight: normal">
</span><span style="font-weight: normal">Footnotes and the annexes
are informative.</span></p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">4
</span><span style="font-weight: normal">Major changes from the
previous revision include:</span></p>
<ul>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">fix
	</span><b>Annex A</b><span style="font-weight: normal"> to specify
	the updated file structure from Revision 2</span></p>
</ul>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc1020_225939230"></a>
1. Terms and definitions</h1>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.1
byte</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">smallest addressable
unit of storage</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.2
object</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">region of storage</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.2
alignment</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">requirement that an
object is loaded at an address that is a multiple of a specified
number of bytes</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.4
address</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">an integer that
specifies the location of an object in the interpreter</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.5
interpretation</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">process of parsing
data</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.6
data</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">sequence of bytes
that denote on<span style="font-style: normal">e of: the magic
number, </span><span style="font-style: normal">the specification
version, </span><span style="font-style: normal">the alignment of </span><span style="font-style: normal">the
</span><span style="font-style: normal">code, the alignment of the
heap, the size of the heap, the size of the stack, and the
entry-point.</span></p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.7
behavior</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm">external appearance
or action</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.8
stack</b></font></p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
interpreter-defined entity or object</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.9
heap</b></font></p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
interpreter-defined entity or object</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.10
code</b></font></p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
interpreter-defined entity or object</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.11
execution</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">process
of parsing </span><span style="font-weight: normal">one or more
sequence of bytes in </span><span style="font-weight: normal">a</span><span style="font-weight: normal">
</span><span style="font-weight: normal">loaded </span><span style="font-weight: normal">code</span><span style="font-style: normal"><span style="font-weight: normal">
</span></span><span style="font-style: normal"><span style="font-weight: normal">in
a way </span></span><span style="font-style: normal"><span style="font-weight: normal">that
may or may not be documented by the interpreter</span></span><span style="font-style: normal"><span style="font-weight: normal"><a class="sdfootnoteanc" name="sdfootnote1anc" href="#sdfootnote1sym"><sup>1</sup></a></span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.12
interpreter-defined</b></font></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
process that is not defined by this standard, rather is left for the
interpreter to document</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.13
value</b></font></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
the result after a successful parse of data</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b>1.14
load</b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">place
in memor</span></span><span style="font-style: normal"><span style="font-weight: normal">y</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><font size="4" style="font-size: 15pt"><b><span style="font-style: normal">1.</span><span style="font-style: normal">15
parse</span></b></font></p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">make
sense of by </span></span><span style="font-style: normal"><span style="font-weight: normal">read</span></span><span style="font-style: normal"><span style="font-weight: normal">ing</span></span><span style="font-style: normal"><span style="font-weight: normal">
</span></span><span style="font-style: normal"><span style="font-weight: normal">an
</span></span><span style="font-style: normal"><span style="font-weight: normal">objec</span></span><span style="font-style: normal"><span style="font-weight: normal">t</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h1 class="western"><a name="__RefHeading___Toc1294_278047018"></a>2.
Environments</h1>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">1
</span><span style="font-weight: normal">For the purpose of
describing how </span><span style="font-weight: normal">data</span><span style="font-weight: normal">
</span><span style="font-weight: normal">shall be</span><span style="font-weight: normal">
parsed, th</span><span style="font-weight: normal">is</span><span style="font-weight: normal">
standard describes </span><span style="font-weight: normal">two
environments:</span></p>
<ul>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">the</span><span style="font-weight: normal">
	environment that writes the </span><i><span style="font-weight: normal">extremely
	small executable</span></i><span style="font-weight: normal"> or
	</span><i><span style="font-weight: normal">extremely small loadable</span></i><span style="font-weight: normal">
	file (the </span><i><span style="font-weight: normal">writer
	</span></i><i><span style="font-weight: normal">environment</span></i><span style="font-weight: normal">),
	and</span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">the</span><span style="font-weight: normal">
	environment that parses </span><span style="font-weight: normal">data
	</span><span style="font-weight: normal">in that file (the
	</span><i><span style="font-weight: normal">interpreter
	</span></i><i><span style="font-weight: normal">environment</span></i><span style="font-weight: normal">).</span></p>
</ul>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">2
</span><span style="font-weight: normal">Data written by the writer
shall have the same value when interpreted by the interpreter</span><span style="font-weight: normal"><a class="sdfootnoteanc" name="sdfootnote2anc" href="#sdfootnote2sym"><sup>2</sup></a></span><span style="font-weight: normal">.</span></p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-weight: normal">3
</span><span style="font-weight: normal">Given a valid </span><i><span style="font-weight: normal">extremely
small</span></i><span style="font-style: normal"><span style="font-weight: normal">
file, a standard-conforming interpreter is required to interpret it
exactly as specified by this standard.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">4
For an invalid </span></span><i><span style="font-weight: normal">extremely
small</span></i><span style="font-style: normal"><span style="font-weight: normal">
file, an interpreter is required to quit the parsing process and
produce at least one diagnostic message.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h1 class="western"><a name="__RefHeading___Toc1024_225939230"></a><span style="font-style: normal">3</span><span style="font-style: normal">.
Limits</span></h1>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">1
This standard </span></span><span style="font-style: normal"><span style="font-weight: normal">imposes
no</span></span><span style="font-style: normal"><span style="font-weight: normal">
restrict</span></span><span style="font-style: normal"><span style="font-weight: normal">ions
on</span></span><span style="font-style: normal"><span style="font-weight: normal">
the number of bytes that can designate the code.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">2
The value of the alignment of the code shall lie within the range 0
</span></span><span style="font-style: normal"><span style="font-weight: normal">to
</span></span><span style="font-style: normal"><span style="font-weight: normal">4294967295
inclusive.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">3
The value of the alignment of the heap shall lie within the range 0</span></span><span style="font-style: normal"><span style="font-weight: normal">
to </span></span><span style="font-style: normal"><span style="font-weight: normal">4294967295
inclusive.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">4
The value of the size of the heap shall lie within the range 0 </span></span><span style="font-style: normal"><span style="font-weight: normal">to
</span></span><span style="font-style: normal"><span style="font-weight: normal">18446744073709551615
inclusive.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">5
The value of the size of the stack shall lie within the range 0 </span></span><span style="font-style: normal"><span style="font-weight: normal">to
</span></span><span style="font-style: normal"><span style="font-weight: normal">18446744073709551615
inclusive.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">6
The value of the entry-point shall lie within the range 0 </span></span><span style="font-style: normal"><span style="font-weight: normal">to
</span></span><span style="font-style: normal"><span style="font-weight: normal">18446744073709551615
inclusive.</span></span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h1 class="western"><a name="__RefHeading___Toc1026_225939230"></a>4.
Parsing</h1>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
1 If parsing fails at any stage of the parsing process, the file
being parsed is said to be invalid.</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc1028_225939230"></a><font size="4" style="font-size: 15pt"><span style="font-style: normal">4</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">.</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">1</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">
Pa</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">rs</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">ing
a</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">n</span></font><font size="4" style="font-size: 15pt"><span style="font-style: normal">
extremely small executable file</span></font></h2>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">1</span></span><span style="font-style: normal"><span style="font-weight: normal">
An interpreter shall parse a</span></span><span style="font-style: normal"><span style="font-weight: normal">n</span></span><span style="font-style: normal"><span style="font-weight: normal">
</span></span><i><span style="font-weight: normal">extremely small
executable</span></i><span style="font-style: normal"><span style="font-weight: normal">
file in the following steps:</span></span></p>
<ul>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	first 4 bytes are parsed. The result shall have the value 933631.
	This is called the </span></span><i><span style="font-weight: normal">magic
	number</span></i><span style="font-style: normal"><span style="font-weight: normal">,
	which differentiates an </span></span><i><span style="font-weight: normal">extremely
	small executable</span></i><span style="font-style: normal"><span style="font-weight: normal">
	file from other </span></span><span style="font-style: normal"><span style="font-weight: normal">types
	of </span></span><span style="font-style: normal"><span style="font-weight: normal">files.
	</span></span><span style="font-style: normal"><span style="font-weight: normal">For
	any other value, the file is invalid and the parsing stops.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">T</span></span><span style="font-style: normal"><span style="font-weight: normal">he
	following 4 bytes designate the </span></span><i><span style="font-weight: normal">specification
	version</span></i><span style="font-style: normal"><span style="font-weight: normal">.
	The value yielded from parsing this data shall be equal to 35.
	Otherwise, the file is invalid and the parsing stops.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	next 4 bytes designate the </span></span><i><span style="font-weight: normal">alignment
	of the code</span></i><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">(in
	bytes)</span></span><span style="font-style: normal"><span style="font-weight: normal">.
	It is the boundary the code will be aligned to when it is loaded by
	the interpreter. If the interpreter does not support such an
	alignment, the file being parsed is invalid </span></span><span style="font-style: normal"><span style="font-weight: normal">and
	the parsing stops. </span></span><span style="font-style: normal"><span style="font-weight: normal">If
	the interpreter does not support </span></span><span style="font-style: normal"><span style="font-weight: normal">the
	action of </span></span><span style="font-style: normal"><span style="font-weight: normal">aligning
	the code to a specific boundary, this data is ignored.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	</span></span><span style="font-style: normal"><span style="font-weight: normal">next</span></span><span style="font-style: normal"><span style="font-weight: normal">
	4 bytes designate the </span></span><i><span style="font-weight: normal">alignment
	of the heap</span></i><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">(in
	bytes)</span></span><span style="font-style: normal"><span style="font-weight: normal">.
	It is the boundary the heap will be aligned to when it is loaded by
	the interpreter. If the interpreter does not support such an
	alignment, the file being parsed is invalid </span></span><span style="font-style: normal"><span style="font-weight: normal">and
	the parsing stops. </span></span><span style="font-style: normal"><span style="font-weight: normal">If
	the interpreter does not have a heap or does not support the action
	of aligning the heap to a specific boundary, this data is ignored.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	</span></span><span style="font-style: normal"><span style="font-weight: normal">following
	</span></span><span style="font-style: normal"><span style="font-weight: normal">8</span></span><span style="font-style: normal"><span style="font-weight: normal">
	bytes designate the </span></span><i><span style="font-weight: normal">size
	of the heap</span></i><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">(in
	bytes)</span></span><span style="font-style: normal"><span style="font-weight: normal">.
	It is the maximum size the heap can have </span></span><span style="font-style: normal"><span style="font-weight: normal">during
	execution</span></span><span style="font-style: normal"><span style="font-weight: normal">.
	</span></span><span style="font-style: normal"><span style="font-weight: normal">If
	the interpreter does not have a heap </span></span><span style="font-style: normal"><span style="font-weight: normal">or
	does not allow the action of setting a maximum size of the heap</span></span><span style="font-style: normal"><span style="font-weight: normal">,
	this data is ignored.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	following </span></span><span style="font-style: normal"><span style="font-weight: normal">8</span></span><span style="font-style: normal"><span style="font-weight: normal">
	bytes designate the </span></span><i><span style="font-weight: normal">size
	of the stack</span></i><span style="font-style: normal"><span style="font-weight: normal">.
	It is the maximum size the stack can have </span></span><span style="font-style: normal"><span style="font-weight: normal">during
	execution</span></span><span style="font-style: normal"><span style="font-weight: normal">.
	</span></span><span style="font-style: normal"><span style="font-weight: normal">The
	unit of the size of the stack is interpreter-defined.</span></span><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">If
	the interpreter does not have a stack </span></span><span style="font-style: normal"><span style="font-weight: normal">or
	does not allow the action of setting a maximum size of the stack</span></span><span style="font-style: normal"><span style="font-weight: normal">,
	this data is ignored.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	next 8 byte</span></span><span style="font-style: normal"><span style="font-weight: normal">s</span></span><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">constitute</span></span><span style="font-style: normal"><span style="font-weight: normal">
	the </span></span><i><span style="font-weight: normal">entry-point</span></i><span style="font-style: normal"><span style="font-weight: normal">.
	</span></span><span style="font-style: normal"><span style="font-weight: normal">It
	shall designate an address where the control is transferred to when
	the execution starts. </span></span><span style="font-style: normal"><span style="font-weight: normal">This
	address must designate an object in the loaded code; otherwise, the
	file is invalid and the parsing stops.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	next </span></span><span style="font-style: normal"><span style="font-weight: normal">optional
	</span></span><span style="font-style: normal"><span style="font-weight: normal">sequence
	of </span></span><span style="font-style: normal"><span style="font-weight: normal">bytes
	constitute</span></span><span style="font-style: normal"><span style="font-weight: normal">s</span></span><span style="font-style: normal"><span style="font-weight: normal">
	the </span></span><i><span style="font-weight: normal">code</span></i><span style="font-style: normal"><span style="font-weight: normal">.</span></span></p>
</ul>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc1030_225939230"></a><span style="font-style: normal">4</span><span style="font-style: normal">.</span><span style="font-style: normal">2</span><span style="font-style: normal">
Parsing a</span><span style="font-style: normal">n</span><span style="font-style: normal">
extremely small loadable file</span></h2>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">1</span></span><span style="font-style: normal"><span style="font-weight: normal">
An interpreter shall parse a</span></span><span style="font-style: normal"><span style="font-weight: normal">n</span></span><span style="font-style: normal"><span style="font-weight: normal">
</span></span><i><span style="font-weight: normal">extremely small
</span></i><i><span style="font-weight: normal">loadable</span></i><span style="font-style: normal"><span style="font-weight: normal">
file in the following steps:</span></span></p>
<ul>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	first 4 bytes are parsed. The result shall have the value 930303.
	This is called the </span></span><i><span style="font-weight: normal">magic
	number</span></i><span style="font-style: normal"><span style="font-weight: normal">,
	which differentiates an </span></span><i><span style="font-weight: normal">extremely
	small </span></i><i><span style="font-weight: normal">loadable</span></i><span style="font-style: normal"><span style="font-weight: normal">
	file from other </span></span><span style="font-style: normal"><span style="font-weight: normal">types
	of </span></span><span style="font-style: normal"><span style="font-weight: normal">files.
	</span></span><span style="font-style: normal"><span style="font-weight: normal">For
	any other value, the file is invalid and the parsing stops.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">T</span></span><span style="font-style: normal"><span style="font-weight: normal">he
	following 4 bytes designate the </span></span><i><span style="font-weight: normal">specification
	version</span></i><span style="font-style: normal"><span style="font-weight: normal">.
	The value yielded from parsing this data shall be equal to 35.
	Otherwise, the file is invalid and the parsing stops.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	next 4 bytes designate the </span></span><i><span style="font-weight: normal">alignment
	of the code</span></i><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">(in
	bytes)</span></span><span style="font-style: normal"><span style="font-weight: normal">.
	It is the boundary the code will be aligned to when it is loaded by
	the interpreter. If the interpreter does not support such an
	alignment, the file being parsed is invalid.</span></span><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">If
	the interpreter does not support </span></span><span style="font-style: normal"><span style="font-weight: normal">the
	action of </span></span><span style="font-style: normal"><span style="font-weight: normal">aligning
	the code to a specific boundary, this data is ignored.</span></span></p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	The next 4 bytes are the padding bytes and shall be ignored by the
	interpreter.</p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	8 </span></span><span style="font-style: normal"><span style="font-weight: normal">bytes
	succeeding the padding </span></span><span style="font-style: normal"><span style="font-weight: normal">byte</span></span><span style="font-style: normal"><span style="font-weight: normal">s</span></span><span style="font-style: normal"><span style="font-weight: normal">
	</span></span><span style="font-style: normal"><span style="font-weight: normal">constitute</span></span><span style="font-style: normal"><span style="font-weight: normal">
	the </span></span><i><span style="font-weight: normal">entry-point</span></i><span style="font-style: normal"><span style="font-weight: normal">.
	</span></span><span style="font-style: normal"><span style="font-weight: normal">It
	shall designate an address where the control is transferred to when
	the execution starts. </span></span><span style="font-style: normal"><span style="font-weight: normal">This
	address must designate an object in the loaded code; otherwise, the
	file is invalid and the parsing stops.</span></span></p>
	<li><p style="line-height: 100%; margin-bottom: 0cm"><span style="font-style: normal"><span style="font-weight: normal">The
	next </span></span><span style="font-style: normal"><span style="font-weight: normal">optional
	</span></span><span style="font-style: normal"><span style="font-weight: normal">sequence
	of </span></span><span style="font-style: normal"><span style="font-weight: normal">bytes
	constitute</span></span><span style="font-style: normal"><span style="font-weight: normal">s</span></span><span style="font-style: normal"><span style="font-weight: normal">
	the </span></span><i><span style="font-weight: normal">code</span></i><span style="font-style: normal"><span style="font-weight: normal">.</span></span></p>
</ul>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h1 class="western"><a name="__RefHeading___Toc1034_225939230"></a>Annex
A. Extremely small file structure summary (informative)</h1>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<span style="font-style: normal">1 This annex </span><span style="font-style: normal">summarizes
the </span><i>extremely small</i><span style="font-style: normal">
file structure as described </span><span style="font-style: normal">in</span><span style="font-style: normal">
</span><span style="font-style: normal">4</span><span style="font-style: normal">.1
and </span><span style="font-style: normal">4</span><span style="font-style: normal">.2.</span></p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<span style="font-style: normal">2 </span><span style="font-style: normal">The
</span><i>extremely small executable</i><span style="font-style: normal">
file structure:</span></p>
<ul>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: magic number</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: specification version</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: alignment of the code</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: alignment of the heap</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	8 bytes: size of the heap</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	8 bytes: size of the stack</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	8 bytes: entry point</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	0 or more bytes: code</p>
</ul>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<span style="font-style: normal">3</span><span style="font-style: normal">
</span><span style="font-style: normal">The </span><i>extremely small
</i><i>loadable</i><span style="font-style: normal"> file structure:</span></p>
<ul>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: magic number</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: specification version</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: alignment of the code</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	4 bytes: padding</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	8 bytes: entry point</p>
	<li><p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
	0 or more bytes: code</p>
</ul>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<h1 class="western"><a name="__RefHeading___Toc973_1655514702"></a>Annex
B. Recommended practice (informative)</h1>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
1 This annex summarizes some practices that a practical interpreter
is expected to follow. This annex might be updated as new devices and
computer architectures are introduced.</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
2 Even though it is not explicitly stated in this standard, in a
practical interpreter, a byte may be composed of a sequence of bits.
The exact number of bits in a byte is not specified in this annex,
but for a practical intepreter to be conforming, a byte in such an
intepreter shall have at least 8 bits, considering each bit
contributes to the value of the result.</p>
<h1 class="western" style="page-break-before: always"><a name="__RefHeading___Toc1036_225939230"></a>
Contributions</h1>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
This specification would not have been possible without the
contributions of the following people:</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
<br/>

</p>
<p style="font-style: normal; font-weight: normal; line-height: 100%; margin-bottom: 0cm">
1 Somdipto Chakraborty</p>
<div id="sdfootnote1"><p class="sdfootnote"><a class="sdfootnotesym" name="sdfootnote1sym" href="#sdfootnote1anc">1</a>For
	example, a processor might fetch intructions and <span style="font-style: normal">execut</span><span style="font-style: normal">e
	them</span><span style="font-style: normal">.</span></p>
</div>
<div id="sdfootnote2"><p class="sdfootnote"><a class="sdfootnotesym" name="sdfootnote2sym" href="#sdfootnote2anc">2</a>This
	is included to avoid endianness conflicts between the interpreter
	and the writer.</p>
</div>
<div title="footer"><p style="line-height: 100%; margin-top: 0.5cm; margin-bottom: 0cm">
	<span style="background: #c0c0c0"><sdfield type=PAGE subtype=RANDOM format=PAGE>9</sdfield></span></p>
</div>
</body>
</html>